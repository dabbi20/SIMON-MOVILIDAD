ðŸš• NYC Taxi â€“ Procesamiento de Viajes (CPrueba Tecnica Simon Movilidad)

Este repositorio contiene un script en Python que procesa un archivo de viajes en formato Parquet (similar al dataset de NYC Taxi) y genera dos reportes solicitados:

ultima_ubicacion.csv â†’ Ãšltima ubicaciÃ³n conocida por vehÃ­culo.

viajes_por_hora.csv â†’ Total de viajes iniciados por hora del dÃ­a (0â€“23).

El objetivo es demostrar un pipeline simple, claro y reproducible, transformando un dataset crudo en salidas analÃ­ticas Ãºtiles.

1. Herramientas utilizadas

Python 3.x

pandas (procesamiento tabular)

numpy (generaciÃ³n determinÃ­stica de coordenadas)

pyarrow (lectura de archivos Parquet)

Nota: En un entorno real, la latitud/longitud deberÃ­a venir del origen o un shape oficial.
Para este challenge, se generan coordenadas reproducibles basadas en el PULocationID.

2. Requisitos previos

Python 3.x instalado

pip configurado

Archivo .parquet con los viajes

3. InstalaciÃ³n

   3.1 Clonar el repositorio

git clone <https://github.com/dabbi20/SIMON-MOVILIDAD.git>.git


3.2 (Opcional) Crear entorno virtual

Linux/Mac:
python -m venv venv
source venv/bin/activate

Windows:
python -m venv venv
venv\Scripts\activate

3.3 Instalar dependencias

pip install -r requirements.txt

Contenido del requirements.txt:
pandas
numpy
pyarrow

4. Estructura del repositorio

.
â”œâ”€â”€ process_data.py

â”œâ”€â”€ README.md

â”œâ”€â”€ requirements.txt

â”œâ”€â”€ outputs/

â”‚ â”œâ”€â”€ ultima_ubicacion.csv

â”‚ â””â”€â”€ viajes_por_hora.csv
â””â”€â”€ docs/

â””â”€â”€ presentacion.pdf

5. CÃ³mo ejecutar el script

python process_data.py ruta/al/archivo.parquet

Ejemplo:

python process_data.py data/trips.parquet

Esto generarÃ¡ automÃ¡ticamente:

outputs/ultima_ubicacion.csv

outputs/viajes_por_hora.csv

6. ExplicaciÃ³n del procesamiento
   6.1 Lectura del archivo Parquet

Se lee el archivo con pandas y se visualiza un printSchema.

6.2 GeneraciÃ³n de latitud/longitud sintÃ©tica

Como el dataset no contiene coordenadas, se generan basadas en el PULocationID usando rangos aproximados de NYC:

Latitud entre 40.55 y 40.95
Longitud entre -74.15 y -73.70

Estas columnas agregadas son:

pickup_latitude

pickup_longitude

6.3 Salida 1: Ãšltima UbicaciÃ³n Conocida

vehicle_id = PULocationID
Se ordena el dataset por tpep_pickup_datetime descendente.
Se toma el Ãºltimo registro correspondiente a cada vehÃ­culo.
Columnas finales:

vehicle_id

ultimo_timestamp

ultima_latitud

ultima_longitud

6.4 Salida 2: Viajes por Hora

Se extrae la hora del tpep_pickup_datetime.
Se agrupa por hora del dÃ­a.
Se genera un total de viajes para cada hora entre 0 y 23.

Columnas:

hora_del_dia

total_viajes

7. Archivos de salida incluidos

En la carpeta outputs/ ya se incluyen ejemplos generados:

ultima_ubicacion.csv

viajes_por_hora.csv

8. PresentaciÃ³n en 5 diapositivas

En docs/presentacion.pdf se incluye una presentaciÃ³n explicando:

El problema

Herramientas

Proceso

Outputs

Mejoras futuras

9. Resumen rÃ¡pido

git clone <repo>
cd <repo>
pip install -r requirements.txt
python process_data.py archivo.parquet

Esto genera:

ultima_ubicacion.csv

viajes_por_hora.csv

